<template>
  <div class="relative min-h-screen">
    <div class="container mx-auto max-w-6xl px-4 sm:px-0 py-8 sm:py-12">
      <!-- Hero Section -->
      <section class="mb-12 sm:mb-16">
        <div class="max-w-3xl mx-auto text-center">
          <h1 class="text-4xl sm:text-5xl font-bold text-white mb-6">
            –†–∞—Å–∫—Ä–æ–π—Ç–µ –°–≤–æ—é –£–Ω–∏–∫–∞–ª—å–Ω—É—é –ò—Å—Ç–æ—Ä–∏—é
          </h1>
          <p class="text-lg text-slate-300 mb-8 leading-relaxed">
            –ü–æ–∑–Ω–∞–π—Ç–µ —Å–µ–±—è –≥–ª—É–±–∂–µ —á–µ—Ä–µ–∑ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–∞–º–æ–ø–æ–∑–Ω–∞–Ω–∏—é –∏
            –Ω–∞–π–¥–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –∫ –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <Button
              to="/awareness-tools/life-purpose-archetype/assessment"
              text="–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç"
              iconClass="fas fa-play"
              gradientStart="#EC4899"
              gradientEnd="#A855F7"
              textColor="#FFFFFF"
              customClass="px-8 py-3 hover:opacity-90 border-[#EC4899]/20 shadow-lg hover:shadow-xl transition-all"
              :translateClass="'-translate-x-[101%]'"
            />
            <Button
              to="/awareness-tools/life-purpose-archetype/explanation"
              text="–ü–æ–¥—Ä–æ–±–Ω–µ–µ"
              iconClass="fas fa-info-circle"
              gradientStart="#FFFFFF10"
              gradientEnd="#FFFFFF10"
              textColor="#FFFFFF"
              customClass="px-8 py-3 hover:bg-white/20 border-[#FFFFFF10]/20 shadow-md hover:shadow-lg transition-all"
            />
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="grid sm:grid-cols-2 gap-8 mb-12 sm:mb-16">
        <div
          class="bg-white/5 rounded-xl p-6 hover:bg-white/10 transition-all duration-300 border border-white/10"
        >
          <h2 class="text-xl font-semibold text-white mb-4">
            –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—É—Ç—å
          </h2>
          <ul class="space-y-3">
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-blue-start text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –û—Ç–∫—Ä–æ–π—Ç–µ —Å–≤–æ–∏ —Å–∫—Ä—ã—Ç—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã –∏ –∏—Å—Ç–∏–Ω–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è
              </span>
            </li>
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-orange-start text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –ù–∞–π–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—Ä—å–µ—Ä–æ–π –∏ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω—å—é
              </span>
            </li>
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-purple-start text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –°–æ–∑–¥–∞–π—Ç–µ –∂–∏–∑–Ω—å, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Ä–∞–∂–∞–µ—Ç –≤–∞—à–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏
              </span>
            </li>
          </ul>
        </div>

        <div
          class="bg-white/5 rounded-xl p-6 hover:bg-white/10 transition-all duration-300 border border-white/10"
        >
          <h2 class="text-xl font-semibold text-white mb-4">
            –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç
          </h2>
          <ul class="space-y-3">
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-blue-end text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–∞—Ä—å–µ—Ä–Ω—ã–π –ø—É—Ç—å
              </span>
            </li>
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-orange-end text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –†–∞–∑–≤–∏–≤–∞–π—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π
              </span>
            </li>
            <li class="flex items-start sm:items-center gap-3">
              <span class="text-gradient-purple-end text-lg">‚ú¶</span>
              <span class="text-slate-300">
                –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞
              </span>
            </li>
          </ul>
        </div>
      </section>

      <!-- Process Section -->
      <section class="bg-white/5 rounded-xl p-8 border border-white/10">
        <h2 class="text-2xl font-bold text-white mb-8 text-center">
          –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
        </h2>
        <div class="grid sm:grid-cols-3 gap-6 sm:gap-8">
          <div class="space-y-4">
            <div class="flex items-center gap-3">
              <div
                class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center"
              >
                <span class="text-white font-medium">1</span>
              </div>
              <h3 class="text-lg font-semibold text-white">–ü–æ–∑–Ω–∞–Ω–∏–µ —Å–µ–±—è</h3>
            </div>
            <p class="text-slate-300 text-sm">
              –ü—Ä–æ–π–¥–∏—Ç–µ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç, —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π –≤–∞—à–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —á–µ—Ä—Ç—ã.
            </p>
          </div>
          <div class="space-y-4">
            <div class="flex items-center gap-3">
              <div
                class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center"
              >
                <span class="text-white font-medium">2</span>
              </div>
              <h3 class="text-lg font-semibold text-white">–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑</h3>
            </div>
            <p class="text-slate-300 text-sm">
              –ü–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –≤–∞—à–µ–º –∞—Ä—Ö–µ—Ç–∏–ø–µ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–µ.
            </p>
          </div>
          <div class="space-y-4">
            <div class="flex items-center gap-3">
              <div
                class="w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center"
              >
                <span class="text-white font-medium">3</span>
              </div>
              <h3 class="text-lg font-semibold text-white">–ü—É—Ç—å –≤–ø–µ—Ä–µ–¥</h3>
            </div>
            <p class="text-slate-300 text-sm">
              –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π.
            </p>
          </div>
        </div>
      </section>
      <!-- New AI Typing Box -->
      <div v-if="showBox" class="ai-typing-box">
        <button
          @click="closeBox"
          class="close-button"
          aria-label="Close typing box"
        >
          <i class="fas fa-times"></i>
        </button>
        <div class="typing-container">
          <span v-if="isThinking" class="thinking-dots">...</span>
          <span v-else class="typed-text">{{ displayedText }}</span>
        </div>
      </div>
    </div>
  </div>
</template>
<script setup>
import Button from "~/components/base/Button.vue";
import { ref, onMounted } from "vue";

const showBox = ref(false);
const isThinking = ref(true);
const fullText = ref(
  "–í–∞—à –∞—Ä—Ö–µ—Ç–∏–ø ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –≤–∞—à–µ–π –∏—Å—Ç–∏–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã. \n\n" +
    "üìñ –≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º: \n" +
    "‚úÖ –†–∞—Å–∫—Ä—ã—Ç—å —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã \n" +
    "‚úÖ –ü–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏ –∏ –∫–∞—Ä—å–µ—Ä—ã –≤–∞–º –ø–æ–¥—Ö–æ–¥—è—Ç \n" +
    "‚úÖ –£–∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç –∏–ª–∏ –º–µ—à–∞—é—Ç –≤–∞–º \n\n" +
    "–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏."
);

const displayedText = ref("");
const typingSpeed = 30;

onMounted(() => {
  setTimeout(() => {
    showBox.value = true;
    setTimeout(() => {
      isThinking.value = false;
      typeText();
    }, 1500);
  }, 3000);
});

const typeText = () => {
  let index = 0;
  const interval = setInterval(() => {
    if (index < fullText.value.length) {
      displayedText.value = fullText.value.slice(0, index + 1);
      index++;
    } else {
      clearInterval(interval);
    }
  }, typingSpeed);
};

// Close box function
const closeBox = () => {
  showBox.value = false;
};
</script>

<style scoped>
.ai-typing-box {
  position: fixed;
  bottom: 10rem;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 500px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  padding: 2rem;
  border-radius: 1rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  z-index: 60;
  @media (min-width: 640px) {
    top: 5rem;
    left: 2rem;
    transform: none;
    width: 400px;
    max-height: 28rem;
  }
}

.typing-container {
  font-size: 1.125rem;
  color: #ffffff;
  font-family: inherit;
}

.thinking-dots {
  display: inline-block;
  width: 1em;
  text-align: left;
  animation: dots 1.5s infinite;
}

.typed-text {
  white-space: pre-wrap;
}

.close-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: none;
  border: none;
  color: #ffffff;
  font-size: 1.25rem;
  cursor: pointer;
  padding: 0.25rem;
  opacity: 0.7;
  transition: opacity 0.2s ease;
}

.close-button:hover {
  opacity: 1;
}

@keyframes dots {
  0% {
    content: ".";
  }
  33% {
    content: "..";
  }
  66% {
    content: "...";
  }
  100% {
    content: ".";
  }
}

.thinking-dots::after {
  content: "...";
  animation: dots 1.5s infinite;
}
</style>
